{"version":3,"file":"admin.js","sources":["../src/admin/components/common/FooterConfigDefaults.ts","../src/admin/components/common/FooterConfigManager.ts","../src/admin/components/common/ListManager.tsx","../src/admin/components/common/LinkEditor.tsx","../src/admin/components/footer-config/SupportLinksSection.tsx","../src/admin/components/common/ImageEditor.tsx","../src/admin/components/footer-config/PlatformIconsSection.tsx","../src/admin/components/footer-config/BrandAmbassadorSection.tsx","../src/admin/components/footer-config/FooterLogoSection.tsx","../src/admin/components/footer-config/CopyrightSection.tsx","../src/admin/components/EditCustomFooterConfigModal.tsx","../src/admin/index.ts"],"sourcesContent":["import { FooterConfig } from './FooterConfigTypes';\n\nexport const DEFAULT_FOOTER_CONFIG: FooterConfig = {\n  supportLinks: [\n    { title: '关于我们', url: 'https://d5539.com' },\n    { title: '联盟计划', url: 'https://d5539.com' },\n    { title: '应用下载', url: 'https://d5539.com' },\n    { title: '品牌赞助', url: 'https://d5539.com' },\n    { title: '隐私政策', url: 'https://d5539.com' },\n    { title: '帮助中心', url: 'https://d5539.com' },\n    { title: '服务条款', url: 'http://ag5250.com' },\n    { title: '在线客服', url: 'http://j6839.com' }\n  ],\n  \n  platformIcons: [\n    {\n      title: 'Binance',\n      url: 'https://d5539.com',\n      iconUrl: 'https://i.mji.rip/2025/08/20/bc82c16e3f215ef28a20a981aaf5aa67.png'\n    },\n    {\n      title: 'OKX',\n      url: 'https://d5539.com',\n      iconUrl: 'https://i.mji.rip/2025/08/20/c2f7b108bbf2f1c344c8977ffdc02332.png'\n    },\n    {\n      title: 'Gate.io',\n      url: 'https://d5539.com',\n      iconUrl: 'https://i.mji.rip/2025/08/20/2e56e2e2237333a6b9f4c37f4b05bb25.png'\n    },\n    {\n      title: 'Huobi',\n      url: 'https://d5539.com',\n      iconUrl: 'https://i.mji.rip/2025/08/20/5f3d141c4f69a8791fb7ef49c70e7ef6.png'\n    },\n    {\n      title: 'TokenPocket',\n      url: 'https://d5539.com',\n      iconUrl: 'https://i.mji.rip/2025/08/20/60ba5473fc2545073200409afda7023d.png'\n    },\n    {\n      title: 'imToken',\n      url: 'https://d5539.com',\n      iconUrl: 'https://i.mji.rip/2025/08/20/f801439aca2d04e3078742d1707b978e.png'\n    },\n    {\n      title: 'MetaMask',\n      url: 'https://d5539.com',\n      iconUrl: 'https://i.mji.rip/2025/08/20/9a0882ed90e9b47e28cd86735ef11543.png'\n    }\n  ],\n  \n  platformLinks: [\n    {\n      title: '平台链接1',\n      url: 'https://d5539.com',\n      iconUrl: 'https://i.mji.rip/2025/08/20/d7944ace52978a86f8b611f5efb2ca98.png'\n    },\n    {\n      title: '平台链接2',\n      url: 'https://d5539.com',\n      iconUrl: 'https://i.mji.rip/2025/08/20/be8816f29700c722183b516f5cb21b6a.png'\n    }\n  ],\n  \n  brandAmbassador: {\n    imageUrl: 'https://i.mji.rip/2025/08/26/c877ff6f33df4671ccc174c1225f43eb.png',\n    socialLinks: [\n      {\n        title: 'QQ群组',\n        url: 'https://qun.qq.com/universal-share/share?ac=1&authKey=9LPFGIDPqHgLiIMu58PLdHO6nPdKX7oSk8BgE7WIsHVZM44Dg%2F1KfltkT8if955Q&busi_data=eyJncm91cENvZGUiOiI3NDU1MDg3OTkiLCJ0b2tlbiI6Ilo0ZnVOWnNKa3NuenBORkNtN2s2bkZycUtHMjJPWWhPcFJTNXhpdkhBWEtjRURGaTN0K1h0SndFdGpnNGJRNi8iLCJ1aW4iOiIxOTA1OTA3NDkyIn0%3D&data=Hgu98jBrCyb2RfXNlM_QBLB70eMTvFFBXU2A2hMUZMTW9GSH8u3FGo2eyN3KkGEHP-uN-CCNm0cZFLLq679b0Q&svctype=4&tempid=h5_group_info',\n        iconUrl: 'https://i.mji.rip/2025/08/15/d5f593ff6091c997d3ac6e0e254d9ffa.png'\n      },\n      {\n        title: 'Telegram',\n        url: 'https://t.me/+YByvSKkQoxRmY2I1',\n        iconUrl: 'https://i.mji.rip/2025/08/13/5cb04bf5d20510736bcef536d889b0c8.png'\n      },\n      {\n        title: '群组',\n        url: 'https://www.sfw.vc/lgcom',\n        iconUrl: 'https://i.mji.rip/2025/08/22/794625485c43dbb2bce4a97b648ed35e.png'\n      },\n      {\n        title: 'Telegram群组',\n        url: 'https://t.me/+rTq_yeCUtKEzYTI1',\n        iconUrl: 'https://i.mji.rip/2025/08/14/9340984e588c0560c352d42292114ec8.png'\n      }\n    ]\n  },\n  \n  footerLogo: {\n    imageUrl: 'https://i.mji.rip/2025/08/26/dc3737efefa7d88b104909d5b4c13d02.png',\n    altText: '集团 Logo'\n  },\n  \n  copyrightText: '©2025 老哥.com | 版权所有 网站由老哥流媒体股份集团公司运营，社区运营非盈利机构 请您满足18+ 后进行访问并确保 你所在的当地区支持相关的内容管理 制造、及指引服务等事宜， 根据内容条例，请注意本站规范。'\n};","import app from 'flarum/admin/app';\nimport { FooterConfig, SupportLink, PlatformIcon, SocialLink } from './FooterConfigTypes';\nimport { DEFAULT_FOOTER_CONFIG } from './FooterConfigDefaults';\n\nexport class FooterConfigManager {\n  private static readonly SETTING_KEY = 'custom_footer_config';\n\n  static loadConfig(): FooterConfig {\n    try {\n      const configStr = app.data.settings[this.SETTING_KEY];\n      if (!configStr) {\n        return this.getDefaultConfig();\n      }\n\n      const config = JSON.parse(configStr);\n      return this.validateAndNormalize(config);\n    } catch (error) {\n      console.error('Failed to load footer config:', error);\n      return this.getDefaultConfig();\n    }\n  }\n\n  static saveConfig(config: FooterConfig): Promise<void> {\n    try {\n      const validatedConfig = this.validateAndNormalize(config);\n      const configStr = JSON.stringify(validatedConfig);\n      \n      app.data.settings[this.SETTING_KEY] = configStr;\n      \n      return app.request({\n        method: 'POST',\n        url: app.forum.attribute('apiUrl') + '/settings',\n        body: {\n          [this.SETTING_KEY]: configStr\n        }\n      });\n    } catch (error) {\n      console.error('Failed to save footer config:', error);\n      throw error;\n    }\n  }\n\n  static getDefaultConfig(): FooterConfig {\n    return JSON.parse(JSON.stringify(DEFAULT_FOOTER_CONFIG));\n  }\n\n  static validateAndNormalize(config: any): FooterConfig {\n    const normalized: FooterConfig = {\n      supportLinks: this.validateSupportLinks(config.supportLinks),\n      platformIcons: this.validatePlatformIcons(config.platformIcons),\n      platformLinks: this.validatePlatformIcons(config.platformLinks),\n      brandAmbassador: this.validateBrandAmbassador(config.brandAmbassador),\n      footerLogo: this.validateFooterLogo(config.footerLogo),\n      copyrightText: this.validateCopyrightText(config.copyrightText)\n    };\n\n    return normalized;\n  }\n\n  private static validateSupportLinks(links: any): SupportLink[] {\n    if (!Array.isArray(links)) {\n      return DEFAULT_FOOTER_CONFIG.supportLinks;\n    }\n\n    return links.map((link: any) => ({\n      title: this.validateString(link?.title, ''),\n      url: this.validateUrl(link?.url, '#')\n    })).filter(link => link.title || link.url !== '#');\n  }\n\n  private static validatePlatformIcons(icons: any): PlatformIcon[] {\n    if (!Array.isArray(icons)) {\n      return [];\n    }\n\n    return icons.map((icon: any) => ({\n      title: this.validateString(icon?.title, ''),\n      url: this.validateUrl(icon?.url, '#'),\n      iconUrl: this.validateUrl(icon?.iconUrl, '')\n    })).filter(icon => icon.title && icon.iconUrl);\n  }\n\n  private static validateBrandAmbassador(ambassador: any): FooterConfig['brandAmbassador'] {\n    if (!ambassador || typeof ambassador !== 'object') {\n      return DEFAULT_FOOTER_CONFIG.brandAmbassador;\n    }\n\n    return {\n      imageUrl: this.validateUrl(ambassador.imageUrl, DEFAULT_FOOTER_CONFIG.brandAmbassador.imageUrl),\n      socialLinks: this.validateSocialLinks(ambassador.socialLinks)\n    };\n  }\n\n  private static validateSocialLinks(links: any): SocialLink[] {\n    if (!Array.isArray(links)) {\n      return DEFAULT_FOOTER_CONFIG.brandAmbassador.socialLinks;\n    }\n\n    return links.map((link: any) => ({\n      title: this.validateString(link?.title, ''),\n      url: this.validateUrl(link?.url, '#'),\n      iconUrl: this.validateUrl(link?.iconUrl, '')\n    })).filter(link => link.title && link.iconUrl);\n  }\n\n  private static validateFooterLogo(logo: any): FooterConfig['footerLogo'] {\n    if (!logo || typeof logo !== 'object') {\n      return DEFAULT_FOOTER_CONFIG.footerLogo;\n    }\n\n    return {\n      imageUrl: this.validateUrl(logo.imageUrl, DEFAULT_FOOTER_CONFIG.footerLogo.imageUrl),\n      altText: this.validateString(logo.altText, DEFAULT_FOOTER_CONFIG.footerLogo.altText)\n    };\n  }\n\n  private static validateCopyrightText(text: any): string {\n    return this.validateString(text, DEFAULT_FOOTER_CONFIG.copyrightText);\n  }\n\n  private static validateString(value: any, fallback: string): string {\n    return typeof value === 'string' ? value.trim() : fallback;\n  }\n\n  private static validateUrl(value: any, fallback: string): string {\n    if (typeof value !== 'string') {\n      return fallback;\n    }\n\n    const trimmed = value.trim();\n    \n    // Allow empty strings for optional URLs\n    if (trimmed === '' && fallback === '') {\n      return '';\n    }\n\n    // Basic URL validation\n    try {\n      new URL(trimmed);\n      return trimmed;\n    } catch {\n      // If not a valid absolute URL, check if it's a relative URL\n      if (trimmed.startsWith('/') || trimmed.startsWith('#')) {\n        return trimmed;\n      }\n      return fallback;\n    }\n  }\n\n  static generateFooterHtml(config: FooterConfig): string {\n    return `\n<footer id=\"customFooter\" class=\"custom-footer\">\n  <section class=\"footer-section\">\n    <div class=\"footer-layout-row\">\n      <div class=\"footer-layout-col\">\n        <div>\n          <h3 class=\"footer-title\">支持</h3>\n          <ul class=\"link-grid-2col\">\n            ${config.supportLinks.map(link => \n              `<li><a href=\"${this.escapeHtml(link.url)}\" target=\"_blank\">${this.escapeHtml(link.title)}</a></li>`\n            ).join('\\n            ')}\n          </ul>\n        </div>\n        <div class=\"platform-section\">\n          <h3 class=\"footer-title\">社群入口</h3>\n          <ul class=\"platform-grid\">\n            ${config.platformIcons.map((icon, index) => \n              `<li><a href=\"${this.escapeHtml(icon.url)}\" target=\"_blank\" title=\"${this.escapeHtml(icon.title)}\"><i class=\"u-sprites platform-icon-${index + 1}\" style=\"background-image: url(${this.escapeHtml(icon.iconUrl)})\"></i></a></li>`\n            ).join('\\n            ')}\n          </ul>\n          <div class=\"platform-links\">\n            ${config.platformLinks.map((link, index) => \n              `<a href=\"${this.escapeHtml(link.url)}\" target=\"_blank\" class=\"platform-link-${index + 1}\" title=\"${this.escapeHtml(link.title)}\" style=\"background-image: url(${this.escapeHtml(link.iconUrl)})\"></a>`\n            ).join('\\n            ')}\n          </div>\n        </div>\n      </div>\n      <div class=\"footer-layout-col\">\n        <div>\n          <h3 class=\"footer-title\">老哥品牌代言人</h3>\n          <div class=\"brand-ambassador\">\n            <div class=\"brand-names\">\n              <p>· 雅帝</p>\n              <p>· 林帝</p>\n              <p>· 文少</p>\n            </div>\n            <img class=\"brand-image\" src=\"${this.escapeHtml(config.brandAmbassador.imageUrl)}\" alt=\"品牌代言人\">\n            <ul class=\"brand-socials\">\n              ${config.brandAmbassador.socialLinks.map(link => \n                `<li><a href=\"${this.escapeHtml(link.url)}\" target=\"_blank\"><img src=\"${this.escapeHtml(link.iconUrl)}\" alt=\"${this.escapeHtml(link.title)}\"><span>群组</span></a></li>`\n              ).join('\\n              ')}\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  </section>\n  <div class=\"footer-divider\"></div>\n  <section class=\"footer-section footer-section-bottom\">\n    <img class=\"footer-logo\" src=\"${this.escapeHtml(config.footerLogo.imageUrl)}\" alt=\"${this.escapeHtml(config.footerLogo.altText)}\">\n    <div class=\"footer-text\">\n      <p>${this.escapeHtml(config.copyrightText)}</p>\n    </div>\n  </section>\n</footer>`;\n  }\n\n  private static escapeHtml(text: string): string {\n    const div = document.createElement('div');\n    div.textContent = text;\n    return div.innerHTML;\n  }\n}","import Component, { ComponentAttrs } from 'flarum/common/Component';\nimport app from 'flarum/admin/app';\n\nexport interface ListManagerAttrs<T> extends ComponentAttrs {\n  items: T[];\n  onUpdate: (items: T[]) => void;\n  createItem: () => T;\n  renderItem: (item: T, index: number, onUpdate: (item: T) => void, onRemove: () => void) => any;\n  title?: string;\n  addButtonText?: string;\n  allowReorder?: boolean;\n  maxItems?: number;\n}\n\nexport default class ListManager<T> extends Component<ListManagerAttrs<T>> {\n  draggedIndex: number | null = null;\n\n  view() {\n    const {\n      items,\n      onUpdate,\n      createItem,\n      renderItem,\n      title,\n      addButtonText,\n      allowReorder = true,\n      maxItems\n    } = this.attrs;\n\n    const canAddMore = !maxItems || items.length < maxItems;\n\n    return (\n      <div className=\"FooterConfig-listManager\">\n        {title && <h3>{title}</h3>}\n        \n        <div className=\"FooterConfig-listItems\">\n          {items.map((item, index) => (\n            <div\n              key={index}\n              className={`FooterConfig-listItem ${allowReorder ? 'FooterConfig-listItem--draggable' : ''}`}\n              draggable={allowReorder}\n              ondragstart={allowReorder ? (e: DragEvent) => this.handleDragStart(e, index) : undefined}\n              ondragover={allowReorder ? (e: DragEvent) => this.handleDragOver(e) : undefined}\n              ondrop={allowReorder ? (e: DragEvent) => this.handleDrop(e, index) : undefined}\n              ondragend={allowReorder ? () => this.handleDragEnd() : undefined}\n            >\n              {allowReorder && (\n                <div className=\"FooterConfig-dragHandle\">\n                  <i className=\"fas fa-grip-vertical\"></i>\n                </div>\n              )}\n              \n              <div className=\"FooterConfig-itemContent\">\n                {renderItem(\n                  item,\n                  index,\n                  (updatedItem: T) => this.updateItem(index, updatedItem),\n                  () => this.removeItem(index)\n                )}\n              </div>\n            </div>\n          ))}\n        </div>\n\n        {canAddMore && (\n          <button\n            type=\"button\"\n            className=\"Button FooterConfig-addButton\"\n            onclick={() => this.addItem()}\n          >\n            <i className=\"fas fa-plus\"></i>\n            {addButtonText || app.translator.trans('wusong8899-custom-footer.admin.edit_footer.add_item')}\n          </button>\n        )}\n      </div>\n    );\n  }\n\n  addItem() {\n    const { items, onUpdate, createItem } = this.attrs;\n    const newItem = createItem();\n    onUpdate([...items, newItem]);\n  }\n\n  updateItem(index: number, updatedItem: T) {\n    const { items, onUpdate } = this.attrs;\n    const newItems = [...items];\n    newItems[index] = updatedItem;\n    onUpdate(newItems);\n  }\n\n  removeItem(index: number) {\n    const { items, onUpdate } = this.attrs;\n    const newItems = items.filter((_, i) => i !== index);\n    onUpdate(newItems);\n  }\n\n  handleDragStart(e: DragEvent, index: number) {\n    this.draggedIndex = index;\n    if (e.dataTransfer) {\n      e.dataTransfer.effectAllowed = 'move';\n    }\n  }\n\n  handleDragOver(e: DragEvent) {\n    e.preventDefault();\n    if (e.dataTransfer) {\n      e.dataTransfer.dropEffect = 'move';\n    }\n  }\n\n  handleDrop(e: DragEvent, dropIndex: number) {\n    e.preventDefault();\n    \n    if (this.draggedIndex === null || this.draggedIndex === dropIndex) {\n      return;\n    }\n\n    const { items, onUpdate } = this.attrs;\n    const newItems = [...items];\n    const draggedItem = newItems[this.draggedIndex];\n    \n    // Remove dragged item\n    newItems.splice(this.draggedIndex, 1);\n    \n    // Insert at new position (adjust index if necessary)\n    const insertIndex = this.draggedIndex < dropIndex ? dropIndex - 1 : dropIndex;\n    newItems.splice(insertIndex, 0, draggedItem);\n    \n    onUpdate(newItems);\n  }\n\n  handleDragEnd() {\n    this.draggedIndex = null;\n  }\n}","import Component, { ComponentAttrs } from 'flarum/common/Component';\nimport app from 'flarum/admin/app';\n\nexport interface LinkData {\n  title: string;\n  url: string;\n}\n\nexport interface LinkEditorAttrs extends ComponentAttrs {\n  link: LinkData;\n  onUpdate: (link: LinkData) => void;\n  onRemove?: () => void;\n  titleLabel?: string;\n  urlLabel?: string;\n  showRemove?: boolean;\n}\n\nexport default class LinkEditor extends Component<LinkEditorAttrs> {\n  view() {\n    const { link, onUpdate, onRemove, showRemove = true } = this.attrs;\n    const titleLabel = this.attrs.titleLabel || app.translator.trans('wusong8899-custom-footer.admin.edit_footer.link_title');\n    const urlLabel = this.attrs.urlLabel || app.translator.trans('wusong8899-custom-footer.admin.edit_footer.link_url');\n\n    return (\n      <div className=\"FooterConfig-linkEditor\">\n        <div className=\"Form-group\">\n          <label>{titleLabel}</label>\n          <input\n            className=\"FormControl\"\n            type=\"text\"\n            value={link.title}\n            placeholder={app.translator.trans('wusong8899-custom-footer.admin.edit_footer.link_title_placeholder')}\n            onchange={(e: Event) => {\n              const target = e.target as HTMLInputElement;\n              onUpdate({ ...link, title: target.value });\n            }}\n          />\n        </div>\n        \n        <div className=\"Form-group\">\n          <label>{urlLabel}</label>\n          <div className=\"FooterConfig-urlInput\">\n            <input\n              className=\"FormControl\"\n              type=\"url\"\n              value={link.url}\n              placeholder=\"https://example.com\"\n              onchange={(e: Event) => {\n                const target = e.target as HTMLInputElement;\n                onUpdate({ ...link, url: target.value });\n              }}\n            />\n            {showRemove && onRemove && (\n              <button\n                type=\"button\"\n                className=\"Button Button--danger FooterConfig-removeBtn\"\n                onclick={onRemove}\n                title={app.translator.trans('wusong8899-custom-footer.admin.edit_footer.remove_link')}\n              >\n                <i className=\"fas fa-times\"></i>\n              </button>\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}","import Component, { ComponentAttrs } from 'flarum/common/Component';\nimport app from 'flarum/admin/app';\nimport ListManager from '../common/ListManager';\nimport LinkEditor from '../common/LinkEditor';\nimport { SupportLink } from '../common/FooterConfigTypes';\n\nexport interface SupportLinksSectionAttrs extends ComponentAttrs {\n  links: SupportLink[];\n  onUpdate: (links: SupportLink[]) => void;\n}\n\nexport default class SupportLinksSection extends Component<SupportLinksSectionAttrs> {\n  view() {\n    const { links, onUpdate } = this.attrs;\n\n    return (\n      <div className=\"FooterConfig-section FooterConfig-supportLinks\">\n        <ListManager\n          items={links}\n          onUpdate={onUpdate}\n          createItem={() => ({ title: '', url: '' })}\n          renderItem={(link: SupportLink, index: number, updateItem: (link: SupportLink) => void, removeItem: () => void) => (\n            <LinkEditor\n              link={link}\n              onUpdate={updateItem}\n              onRemove={removeItem}\n              titleLabel={app.translator.trans('wusong8899-custom-footer.admin.edit_footer.support_link_title')}\n              urlLabel={app.translator.trans('wusong8899-custom-footer.admin.edit_footer.support_link_url')}\n            />\n          )}\n          title={app.translator.trans('wusong8899-custom-footer.admin.edit_footer.support_links')}\n          addButtonText={app.translator.trans('wusong8899-custom-footer.admin.edit_footer.add_support_link')}\n          allowReorder={true}\n        />\n        \n        <div className=\"Form-group\">\n          <small className=\"help-block\">\n            {app.translator.trans('wusong8899-custom-footer.admin.edit_footer.support_links_help')}\n          </small>\n        </div>\n      </div>\n    );\n  }\n}","import Component, { ComponentAttrs } from 'flarum/common/Component';\nimport app from 'flarum/admin/app';\n\nexport interface ImageData {\n  imageUrl: string;\n  altText: string;\n}\n\nexport interface ImageEditorAttrs extends ComponentAttrs {\n  image: ImageData;\n  onUpdate: (image: ImageData) => void;\n  urlLabel?: string;\n  altLabel?: string;\n  showPreview?: boolean;\n}\n\nexport default class ImageEditor extends Component<ImageEditorAttrs> {\n  view() {\n    const { image, onUpdate, showPreview = true } = this.attrs;\n    const urlLabel = this.attrs.urlLabel || app.translator.trans('wusong8899-custom-footer.admin.edit_footer.image_url');\n    const altLabel = this.attrs.altLabel || app.translator.trans('wusong8899-custom-footer.admin.edit_footer.image_alt');\n\n    return (\n      <div className=\"FooterConfig-imageEditor\">\n        <div className=\"Form-group\">\n          <label>{urlLabel}</label>\n          <input\n            className=\"FormControl\"\n            type=\"url\"\n            value={image.imageUrl}\n            placeholder=\"https://example.com/image.png\"\n            onchange={(e: Event) => {\n              const target = e.target as HTMLInputElement;\n              onUpdate({ ...image, imageUrl: target.value });\n            }}\n          />\n        </div>\n\n        <div className=\"Form-group\">\n          <label>{altLabel}</label>\n          <input\n            className=\"FormControl\"\n            type=\"text\"\n            value={image.altText}\n            placeholder={app.translator.trans('wusong8899-custom-footer.admin.edit_footer.image_alt_placeholder')}\n            onchange={(e: Event) => {\n              const target = e.target as HTMLInputElement;\n              onUpdate({ ...image, altText: target.value });\n            }}\n          />\n        </div>\n\n        {showPreview && image.imageUrl && (\n          <div className=\"Form-group\">\n            <label>{app.translator.trans('wusong8899-custom-footer.admin.edit_footer.preview')}</label>\n            <div className=\"FooterConfig-imagePreview\">\n              <img\n                src={image.imageUrl}\n                alt={image.altText}\n                style={{ maxWidth: '200px', maxHeight: '100px', objectFit: 'contain' }}\n                onload={(e: Event) => {\n                  const target = e.target as HTMLImageElement;\n                  target.style.opacity = '1';\n                }}\n                onerror={(e: Event) => {\n                  const target = e.target as HTMLImageElement;\n                  target.style.display = 'none';\n                  target.parentElement!.innerHTML += `<div class=\"FooterConfig-imageError\">${app.translator.trans('wusong8899-custom-footer.admin.edit_footer.image_load_error')}</div>`;\n                }}\n                style={{ opacity: '0', transition: 'opacity 0.3s' }}\n              />\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  }\n}","import Component, { ComponentAttrs } from 'flarum/common/Component';\nimport app from 'flarum/admin/app';\nimport ListManager from '../common/ListManager';\nimport LinkEditor from '../common/LinkEditor';\nimport ImageEditor from '../common/ImageEditor';\nimport { PlatformIcon } from '../common/FooterConfigTypes';\n\nexport interface PlatformIconsSectionAttrs extends ComponentAttrs {\n  icons: PlatformIcon[];\n  onUpdate: (icons: PlatformIcon[]) => void;\n  sectionTitle?: string;\n  helpText?: string;\n}\n\nexport default class PlatformIconsSection extends Component<PlatformIconsSectionAttrs> {\n  view() {\n    const { icons, onUpdate, sectionTitle, helpText } = this.attrs;\n\n    return (\n      <div className=\"FooterConfig-section FooterConfig-platformIcons\">\n        <ListManager\n          items={icons}\n          onUpdate={onUpdate}\n          createItem={() => ({ title: '', url: '', iconUrl: '' })}\n          renderItem={(icon: PlatformIcon, index: number, updateItem: (icon: PlatformIcon) => void, removeItem: () => void) => (\n            <div className=\"FooterConfig-platformIcon\">\n              <div className=\"Form-group\">\n                <label>{app.translator.trans('wusong8899-custom-footer.admin.edit_footer.platform_title')}</label>\n                <input\n                  className=\"FormControl\"\n                  type=\"text\"\n                  value={icon.title}\n                  placeholder={app.translator.trans('wusong8899-custom-footer.admin.edit_footer.platform_title_placeholder')}\n                  onchange={(e: Event) => {\n                    const target = e.target as HTMLInputElement;\n                    updateItem({ ...icon, title: target.value });\n                  }}\n                />\n              </div>\n\n              <div className=\"Form-group\">\n                <label>{app.translator.trans('wusong8899-custom-footer.admin.edit_footer.platform_url')}</label>\n                <input\n                  className=\"FormControl\"\n                  type=\"url\"\n                  value={icon.url}\n                  placeholder=\"https://example.com\"\n                  onchange={(e: Event) => {\n                    const target = e.target as HTMLInputElement;\n                    updateItem({ ...icon, url: target.value });\n                  }}\n                />\n              </div>\n\n              <ImageEditor\n                image={{ imageUrl: icon.iconUrl, altText: icon.title }}\n                onUpdate={(image) => updateItem({ ...icon, iconUrl: image.imageUrl })}\n                urlLabel={app.translator.trans('wusong8899-custom-footer.admin.edit_footer.platform_icon_url')}\n                altLabel=\"\"\n                showPreview={true}\n              />\n\n              <div className=\"FooterConfig-itemActions\">\n                <button\n                  type=\"button\"\n                  className=\"Button Button--danger\"\n                  onclick={removeItem}\n                  title={app.translator.trans('wusong8899-custom-footer.admin.edit_footer.remove_platform')}\n                >\n                  <i className=\"fas fa-trash\"></i>\n                  {app.translator.trans('wusong8899-custom-footer.admin.edit_footer.remove')}\n                </button>\n              </div>\n            </div>\n          )}\n          title={sectionTitle || app.translator.trans('wusong8899-custom-footer.admin.edit_footer.platform_icons')}\n          addButtonText={app.translator.trans('wusong8899-custom-footer.admin.edit_footer.add_platform_icon')}\n          allowReorder={true}\n        />\n        \n        {helpText && (\n          <div className=\"Form-group\">\n            <small className=\"help-block\">{helpText}</small>\n          </div>\n        )}\n      </div>\n    );\n  }\n}","import Component, { ComponentAttrs } from 'flarum/common/Component';\nimport app from 'flarum/admin/app';\nimport ListManager from '../common/ListManager';\nimport ImageEditor from '../common/ImageEditor';\nimport { BrandAmbassador, SocialLink } from '../common/FooterConfigTypes';\n\nexport interface BrandAmbassadorSectionAttrs extends ComponentAttrs {\n  brandAmbassador: BrandAmbassador;\n  onUpdate: (brandAmbassador: BrandAmbassador) => void;\n}\n\nexport default class BrandAmbassadorSection extends Component<BrandAmbassadorSectionAttrs> {\n  view() {\n    const { brandAmbassador, onUpdate } = this.attrs;\n\n    return (\n      <div className=\"FooterConfig-section FooterConfig-brandAmbassador\">\n        <h3>{app.translator.trans('wusong8899-custom-footer.admin.edit_footer.brand_ambassador')}</h3>\n        \n        {/* Brand ambassador image */}\n        <div className=\"Form-group\">\n          <label>{app.translator.trans('wusong8899-custom-footer.admin.edit_footer.ambassador_image')}</label>\n          <ImageEditor\n            image={{ imageUrl: brandAmbassador.imageUrl, altText: '品牌代言人' }}\n            onUpdate={(image) => onUpdate({ ...brandAmbassador, imageUrl: image.imageUrl })}\n            urlLabel={app.translator.trans('wusong8899-custom-footer.admin.edit_footer.ambassador_image_url')}\n            altLabel=\"\"\n            showPreview={true}\n          />\n        </div>\n\n        {/* Social links */}\n        <div className=\"FooterConfig-socialLinks\">\n          <ListManager\n            items={brandAmbassador.socialLinks}\n            onUpdate={(socialLinks) => onUpdate({ ...brandAmbassador, socialLinks })}\n            createItem={() => ({ title: '', url: '', iconUrl: '' })}\n            renderItem={(link: SocialLink, index: number, updateItem: (link: SocialLink) => void, removeItem: () => void) => (\n              <div className=\"FooterConfig-socialLink\">\n                <div className=\"FooterConfig-socialLinkInputs\">\n                  <div className=\"Form-group\">\n                    <label>{app.translator.trans('wusong8899-custom-footer.admin.edit_footer.social_title')}</label>\n                    <input\n                      className=\"FormControl\"\n                      type=\"text\"\n                      value={link.title}\n                      placeholder={app.translator.trans('wusong8899-custom-footer.admin.edit_footer.social_title_placeholder')}\n                      onchange={(e: Event) => {\n                        const target = e.target as HTMLInputElement;\n                        updateItem({ ...link, title: target.value });\n                      }}\n                    />\n                  </div>\n\n                  <div className=\"Form-group\">\n                    <label>{app.translator.trans('wusong8899-custom-footer.admin.edit_footer.social_url')}</label>\n                    <input\n                      className=\"FormControl\"\n                      type=\"url\"\n                      value={link.url}\n                      placeholder=\"https://example.com\"\n                      onchange={(e: Event) => {\n                        const target = e.target as HTMLInputElement;\n                        updateItem({ ...link, url: target.value });\n                      }}\n                    />\n                  </div>\n\n                  <ImageEditor\n                    image={{ imageUrl: link.iconUrl, altText: link.title }}\n                    onUpdate={(image) => updateItem({ ...link, iconUrl: image.imageUrl })}\n                    urlLabel={app.translator.trans('wusong8899-custom-footer.admin.edit_footer.social_icon_url')}\n                    altLabel=\"\"\n                    showPreview={true}\n                  />\n                </div>\n\n                <div className=\"FooterConfig-itemActions\">\n                  <button\n                    type=\"button\"\n                    className=\"Button Button--danger\"\n                    onclick={removeItem}\n                    title={app.translator.trans('wusong8899-custom-footer.admin.edit_footer.remove_social_link')}\n                  >\n                    <i className=\"fas fa-trash\"></i>\n                    {app.translator.trans('wusong8899-custom-footer.admin.edit_footer.remove')}\n                  </button>\n                </div>\n              </div>\n            )}\n            title={app.translator.trans('wusong8899-custom-footer.admin.edit_footer.social_links')}\n            addButtonText={app.translator.trans('wusong8899-custom-footer.admin.edit_footer.add_social_link')}\n            allowReorder={true}\n          />\n        </div>\n\n        <div className=\"Form-group\">\n          <small className=\"help-block\">\n            {app.translator.trans('wusong8899-custom-footer.admin.edit_footer.brand_ambassador_help')}\n          </small>\n        </div>\n      </div>\n    );\n  }\n}","import Component, { ComponentAttrs } from 'flarum/common/Component';\nimport app from 'flarum/admin/app';\nimport ImageEditor from '../common/ImageEditor';\nimport { FooterLogo } from '../common/FooterConfigTypes';\n\nexport interface FooterLogoSectionAttrs extends ComponentAttrs {\n  footerLogo: FooterLogo;\n  onUpdate: (footerLogo: FooterLogo) => void;\n}\n\nexport default class FooterLogoSection extends Component<FooterLogoSectionAttrs> {\n  view() {\n    const { footerLogo, onUpdate } = this.attrs;\n\n    return (\n      <div className=\"FooterConfig-section FooterConfig-footerLogo\">\n        <h3>{app.translator.trans('wusong8899-custom-footer.admin.edit_footer.footer_logo')}</h3>\n        \n        <ImageEditor\n          image={footerLogo}\n          onUpdate={onUpdate}\n          urlLabel={app.translator.trans('wusong8899-custom-footer.admin.edit_footer.logo_url')}\n          altLabel={app.translator.trans('wusong8899-custom-footer.admin.edit_footer.logo_alt')}\n          showPreview={true}\n        />\n\n        <div className=\"Form-group\">\n          <small className=\"help-block\">\n            {app.translator.trans('wusong8899-custom-footer.admin.edit_footer.footer_logo_help')}\n          </small>\n        </div>\n      </div>\n    );\n  }\n}","import Component, { ComponentAttrs } from 'flarum/common/Component';\nimport app from 'flarum/admin/app';\n\nexport interface CopyrightSectionAttrs extends ComponentAttrs {\n  copyrightText: string;\n  onUpdate: (copyrightText: string) => void;\n}\n\nexport default class CopyrightSection extends Component<CopyrightSectionAttrs> {\n  view() {\n    const { copyrightText, onUpdate } = this.attrs;\n\n    return (\n      <div className=\"FooterConfig-section FooterConfig-copyright\">\n        <h3>{app.translator.trans('wusong8899-custom-footer.admin.edit_footer.copyright')}</h3>\n        \n        <div className=\"Form-group\">\n          <label>{app.translator.trans('wusong8899-custom-footer.admin.edit_footer.copyright_text')}</label>\n          <textarea\n            className=\"FormControl\"\n            rows=\"4\"\n            value={copyrightText}\n            placeholder={app.translator.trans('wusong8899-custom-footer.admin.edit_footer.copyright_placeholder')}\n            onchange={(e: Event) => {\n              const target = e.target as HTMLTextAreaElement;\n              onUpdate(target.value);\n            }}\n          />\n        </div>\n\n        <div className=\"Form-group\">\n          <small className=\"help-block\">\n            {app.translator.trans('wusong8899-custom-footer.admin.edit_footer.copyright_help')}\n          </small>\n        </div>\n      </div>\n    );\n  }\n}","import app from 'flarum/admin/app';\nimport SettingsModal from 'flarum/admin/components/SettingsModal';\nimport Button from 'flarum/common/components/Button';\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\nimport { FooterConfig } from './common/FooterConfigTypes';\nimport { FooterConfigManager } from './common/FooterConfigManager';\nimport SupportLinksSection from './footer-config/SupportLinksSection';\nimport PlatformIconsSection from './footer-config/PlatformIconsSection';\nimport BrandAmbassadorSection from './footer-config/BrandAmbassadorSection';\nimport FooterLogoSection from './footer-config/FooterLogoSection';\nimport CopyrightSection from './footer-config/CopyrightSection';\n\nexport default class EditCustomFooterConfigModal extends SettingsModal {\n  config: FooterConfig = FooterConfigManager.getDefaultConfig();\n  activeTab: string = 'support-links';\n  loading: boolean = true;\n  saving: boolean = false;\n\n  className() {\n    return 'EditCustomFooterConfigModal Modal--large';\n  }\n\n  title() {\n    return app.translator.trans('wusong8899-custom-footer.admin.edit_footer.config_title');\n  }\n\n  oninit(vnode: any) {\n    super.oninit(vnode);\n    this.loadConfig();\n  }\n\n  async loadConfig() {\n    try {\n      this.loading = true;\n      this.config = FooterConfigManager.loadConfig();\n    } catch (error) {\n      console.error('Failed to load footer config:', error);\n      app.alerts.show({ type: 'error' }, app.translator.trans('wusong8899-custom-footer.admin.edit_footer.load_error'));\n    } finally {\n      this.loading = false;\n      m.redraw();\n    }\n  }\n\n  form() {\n    if (this.loading) {\n      return [<LoadingIndicator />];\n    }\n\n    return [\n      <div className=\"FooterConfig-container\">\n        {/* Tab Navigation */}\n        <div className=\"FooterConfig-tabs\">\n          <nav className=\"FooterConfig-tabNav\">\n            {this.getTabs().map(tab => (\n              <button\n                key={tab.id}\n                type=\"button\"\n                className={`FooterConfig-tabBtn ${this.activeTab === tab.id ? 'FooterConfig-tabBtn--active' : ''}`}\n                onclick={() => this.setActiveTab(tab.id)}\n              >\n                <i className={`fas ${tab.icon}`}></i>\n                {tab.title}\n              </button>\n            ))}\n          </nav>\n        </div>\n\n        {/* Tab Content */}\n        <div className=\"FooterConfig-tabContent\">\n          {this.renderTabContent()}\n        </div>\n\n        {/* Action Buttons */}\n        <div className=\"FooterConfig-actions\">\n          <Button\n            type=\"button\"\n            className=\"Button Button--danger\"\n            onclick={() => this.resetToDefaults()}\n          >\n            <i className=\"fas fa-undo\"></i>\n            {app.translator.trans('wusong8899-custom-footer.admin.edit_footer.reset_defaults')}\n          </Button>\n          \n          <Button\n            type=\"button\"\n            className=\"Button\"\n            onclick={() => this.previewFooter()}\n          >\n            <i className=\"fas fa-eye\"></i>\n            {app.translator.trans('wusong8899-custom-footer.admin.edit_footer.preview')}\n          </Button>\n        </div>\n      </div>\n    ];\n  }\n\n  getTabs() {\n    return [\n      {\n        id: 'support-links',\n        title: app.translator.trans('wusong8899-custom-footer.admin.edit_footer.tab_support_links'),\n        icon: 'fa-link'\n      },\n      {\n        id: 'platform-icons',\n        title: app.translator.trans('wusong8899-custom-footer.admin.edit_footer.tab_platform_icons'),\n        icon: 'fa-icons'\n      },\n      {\n        id: 'platform-links',\n        title: app.translator.trans('wusong8899-custom-footer.admin.edit_footer.tab_platform_links'),\n        icon: 'fa-external-link-alt'\n      },\n      {\n        id: 'brand-ambassador',\n        title: app.translator.trans('wusong8899-custom-footer.admin.edit_footer.tab_brand_ambassador'),\n        icon: 'fa-user-tie'\n      },\n      {\n        id: 'footer-logo',\n        title: app.translator.trans('wusong8899-custom-footer.admin.edit_footer.tab_footer_logo'),\n        icon: 'fa-image'\n      },\n      {\n        id: 'copyright',\n        title: app.translator.trans('wusong8899-custom-footer.admin.edit_footer.tab_copyright'),\n        icon: 'fa-copyright'\n      }\n    ];\n  }\n\n  setActiveTab(tabId: string) {\n    this.activeTab = tabId;\n  }\n\n  renderTabContent() {\n    switch (this.activeTab) {\n      case 'support-links':\n        return (\n          <SupportLinksSection\n            links={this.config.supportLinks}\n            onUpdate={(links) => this.updateConfig({ supportLinks: links })}\n          />\n        );\n\n      case 'platform-icons':\n        return (\n          <PlatformIconsSection\n            icons={this.config.platformIcons}\n            onUpdate={(icons) => this.updateConfig({ platformIcons: icons })}\n            sectionTitle={app.translator.trans('wusong8899-custom-footer.admin.edit_footer.platform_icons')}\n            helpText={app.translator.trans('wusong8899-custom-footer.admin.edit_footer.platform_icons_help')}\n          />\n        );\n\n      case 'platform-links':\n        return (\n          <PlatformIconsSection\n            icons={this.config.platformLinks}\n            onUpdate={(links) => this.updateConfig({ platformLinks: links })}\n            sectionTitle={app.translator.trans('wusong8899-custom-footer.admin.edit_footer.platform_links')}\n            helpText={app.translator.trans('wusong8899-custom-footer.admin.edit_footer.platform_links_help')}\n          />\n        );\n\n      case 'brand-ambassador':\n        return (\n          <BrandAmbassadorSection\n            brandAmbassador={this.config.brandAmbassador}\n            onUpdate={(brandAmbassador) => this.updateConfig({ brandAmbassador })}\n          />\n        );\n\n      case 'footer-logo':\n        return (\n          <FooterLogoSection\n            footerLogo={this.config.footerLogo}\n            onUpdate={(footerLogo) => this.updateConfig({ footerLogo })}\n          />\n        );\n\n      case 'copyright':\n        return (\n          <CopyrightSection\n            copyrightText={this.config.copyrightText}\n            onUpdate={(copyrightText) => this.updateConfig({ copyrightText })}\n          />\n        );\n\n      default:\n        return <div>Unknown tab</div>;\n    }\n  }\n\n  updateConfig(updates: Partial<FooterConfig>) {\n    this.config = { ...this.config, ...updates };\n  }\n\n  resetToDefaults() {\n    if (confirm(app.translator.trans('wusong8899-custom-footer.admin.edit_footer.reset_confirm'))) {\n      this.config = FooterConfigManager.getDefaultConfig();\n      m.redraw();\n    }\n  }\n\n  previewFooter() {\n    const html = FooterConfigManager.generateFooterHtml(this.config);\n    const previewWindow = window.open('', '_blank', 'width=800,height=600');\n    if (previewWindow) {\n      previewWindow.document.write(`\n        <html>\n          <head>\n            <title>${app.translator.trans('wusong8899-custom-footer.admin.edit_footer.preview_title')}</title>\n            <style>\n              body { margin: 0; padding: 20px; font-family: Arial, sans-serif; }\n              ${this.getPreviewStyles()}\n            </style>\n          </head>\n          <body>\n            ${html}\n          </body>\n        </html>\n      `);\n      previewWindow.document.close();\n    }\n  }\n\n  getPreviewStyles() {\n    // Return CSS styles for preview (simplified version of custom.less)\n    return `\n      .custom-footer {\n        background: #1b2132;\n        color: #fff;\n        padding: 20px;\n      }\n      .footer-section {\n        padding: 15px 40px 0;\n      }\n      .footer-layout-row {\n        display: flex;\n        flex-wrap: wrap;\n        justify-content: space-between;\n        margin: 0 -10px;\n      }\n      .footer-layout-col {\n        flex: 1 1 300px;\n        margin-top: 20px;\n      }\n      .footer-title {\n        margin-bottom: 16px;\n        font-size: 13px;\n        font-weight: 600;\n        color: #7d8fd8;\n      }\n      .link-grid-2col {\n        display: grid;\n        grid-template-columns: repeat(2, 1fr);\n        gap: 10px 15px;\n        list-style: none;\n        margin: 0;\n        padding: 0;\n      }\n      .platform-grid {\n        display: flex;\n        flex-wrap: wrap;\n        gap: 8px;\n        list-style: none;\n        margin: 0;\n        padding: 0;\n      }\n      .platform-grid a {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        width: 40px;\n        height: 40px;\n        background: #2a3244;\n        border-radius: 50%;\n      }\n      .brand-ambassador {\n        display: flex;\n        align-items: center;\n        gap: 15px;\n      }\n      .brand-image {\n        width: 50%;\n      }\n      .footer-logo {\n        width: 330px;\n        margin: 20px 0 17px;\n      }\n      .footer-text {\n        max-width: 700px;\n        margin: 0 auto;\n        font-size: 12px;\n        color: #5d6782;\n      }\n    `;\n  }\n\n  async onsubmit(e: Event) {\n    e.preventDefault();\n    \n    if (this.saving) return;\n    \n    this.saving = true;\n    \n    try {\n      await FooterConfigManager.saveConfig(this.config);\n      app.alerts.show({ type: 'success' }, app.translator.trans('wusong8899-custom-footer.admin.edit_footer.save_success'));\n      this.hide();\n    } catch (error) {\n      console.error('Failed to save footer config:', error);\n      app.alerts.show({ type: 'error' }, app.translator.trans('wusong8899-custom-footer.admin.edit_footer.save_error'));\n    } finally {\n      this.saving = false;\n      m.redraw();\n    }\n  }\n\n  submitButton() {\n    return (\n      <Button\n        type=\"submit\"\n        className=\"Button Button--primary\"\n        loading={this.saving}\n        disabled={this.saving}\n      >\n        {app.translator.trans('core.admin.save_changes')}\n      </Button>\n    );\n  }\n}","import app from 'flarum/admin/app';\nimport EditCustomFooterConfigModal from './components/EditCustomFooterConfigModal';\n\nexport { default as extend } from './extend';\n\napp.initializers.add('wusong8899-custom-footer', () => {\n  console.log('[wusong8899/flarum-custom-footer] Hello, admin!');\n\n  // Register the footer config modal\n  app.extensionData\n    .for('wusong8899-custom-footer')\n    .registerSetting({\n      setting: 'wusong8899-custom-footer.config_button',\n      type: 'button',\n      label: app.translator.trans('wusong8899-custom-footer.admin.edit_footer.config_button'),\n      className: 'Button Button--primary',\n      onclick: () => app.modal.show(EditCustomFooterConfigModal)\n    });\n});\n"],"names":["DEFAULT_FOOTER_CONFIG","_FooterConfigManager","configStr","app","config","error","validatedConfig","links","link","icons","icon","ambassador","logo","text","value","fallback","trimmed","index","div","FooterConfigManager","ListManager","Component","items","renderItem","title","addButtonText","allowReorder","maxItems","canAddMore","item","e","updatedItem","onUpdate","createItem","newItem","newItems","_","dropIndex","draggedItem","insertIndex","LinkEditor","onRemove","showRemove","titleLabel","urlLabel","target","SupportLinksSection","updateItem","removeItem","ImageEditor","image","showPreview","altLabel","PlatformIconsSection","sectionTitle","helpText","BrandAmbassadorSection","brandAmbassador","socialLinks","FooterLogoSection","footerLogo","CopyrightSection","copyrightText","EditCustomFooterConfigModal","SettingsModal","vnode","LoadingIndicator","tab","Button","tabId","updates","html","previewWindow"],"mappings":"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"}